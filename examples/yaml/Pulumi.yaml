name: provider-pve
runtime: yaml
plugins:
  providers:
    - name: pve
      path: ../../bin

resources:
  myFile:
    type: pve:storage:File
    properties:
      datastoreId: cephfs
      contentType: snippets
      sourceRaw:
        fileData: |
          hello world
        fileName: testfile01.yaml

  myVM:
    type: pve:vm:VM
    properties:
      name: "aTestVM"
      description: "test VM"
      cpu:
        type: EPYC-v3
        flagsEnabled:
          - virt-ssbd
        flagsDisabled:
          - spec-ctrl
        hidden: true
        hvVendorId: AuthenticAMD
        physBits: "48"
      memory: 27875
      disks:
        - storage: "ceph-ha"
          size: 20
          interface: "scsi0"
        - storage: "ceph-ha"
          size: 17
          interface: "scsi1"
        - storage: "ceph-ha"
          size: 20
          interface: "sata0"
      clone:
        vmId: 102
        timeout: 360
        fullClone: true
